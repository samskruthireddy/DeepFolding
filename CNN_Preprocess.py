
import pandas as pd

data=pd.read_csv(open('ss3.txt','r'),sep='\t',header=None)

data['onehot_encoded_aminoacids']=data[1].apply(lambda x : x.replace('A','00000000000000000001').replace('L','00000000000000000010').replace('R','00000000000000000100').replace('K','00000000000000001000').replace('N','00000000000000010000').replace('M','00000000000000100000').replace('D','00000000000001000000').replace('F','00000000000010000000').replace('C','00000000000100000000').replace('P','00000000001000000000').replace('Q','00000000010000000000').replace('S','00000000100000000000').replace('E','00000001000000000000').replace('T','00000010000000000000').replace('G','00000100000000000000').replace('W','00001000000000000000').replace('H','00010000000000000000').replace('Y','00100000000000000000').replace('I','01000000000000000000').replace('V','10000000000000000000'))

labels=data[2]
labels=labels.tolist()


data_file=open('input_Data.csv','w')
for l in range(0,len(data['onehot_encoded_aminoacids'])):
i=data['onehot_encoded_aminoacids'][l]
j=0
while True:
if j==0:
left_flank='0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'
elif j==20:
left_flank='00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' + i[j-20:j]
elif j==40:
left_flank='000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' + i[j-40:j]
elif j==60:
left_flank='0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' + i[j-60:j]
elif j==80:
left_flank='00000000000000000000000000000000000000000000000000000000000000000000000000000000' + i[j-80:j]
elif j==100:
left_flank='000000000000000000000000000000000000000000000000000000000000' + i[j-100:j]
elif j==120:
left_flank='0000000000000000000000000000000000000000' + i[j-120:j]
elif j==140:
left_flank='00000000000000000000' + i[j-140:j]
else:
left_flank=i[j-160:j]

position_analysed=i[j:j+20]
right_flank=i[j+20:j+180]
right_topad=160-len(right_flank)
right_flank=right_flank.ljust(160,'0')
training_string=left_flank+position_analysed+right_flank
print len(training_string)
label=labels[l][j/20]
print label
data_file.write(training_string+','+label)
data_file.write('\n')
data_file.flush()
j+=20
if j==len(i):
break

